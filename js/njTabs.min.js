 /*!
 * njTabs - v0.1
 * nejikrofl@gmail.com
 * Copyright (c) 2015 N.J.
*/
!function(t,a,e){"use strict";var i=t.jQuery||t.j;if(!i)throw new Error('njTabs\'s requires jQuery or "j" library (https://github.com/Nejik/j)');t.njTabs=function(t){if(t=t||{},!(this instanceof njTabs))return new njTabs(t);var a=this.o=i.extend(!0,{},njTabs.defaults,t),e=this;this._o={},this.activeTab={},this.prevTab={},this.active=null,this.v={tabsWrap:i(a.tabs)},this.v.tabsWrap.length&&(this.v.tabsWrap[0].njTabs=this,this._gatherData(this.v.tabsWrap),this.v.contentWrap=i(i(a.content)[0]),this.v.contentWrap.length&&(this.v.tabEls=this.v.tabsWrap.find(a.tabSelector),this.v.contentEls=this.v.contentWrap.find(a.contentSelector).addClass(a.contentClass).css({display:"none"}),this.v.tabsWrap.delegate(a.tabSelector,a.triggerEvent,function(t){a.e=t;var i=t.target||t.srcElement;e.show(i),a.e.preventDefault()}),this.show(!0)))};var n=njTabs.prototype;n.show=function(t){if(!this._o.anim){var a,e,n,s,r=this.o;if(this.v.tabEls=this.v.tabsWrap.find(r.tabSelector),this.v.contentEls=this.v.contentWrap.find(r.contentSelector),"number"==typeof t?(0>t?t=0:t>this.v.tabEls.length-1&&(t=this.v.tabEls.length-1),e=i(this.v.tabEls[t])):t===!0?(e=this.v.tabsWrap.find(".active").find(r.tabSelector),e.length||(e=i(this.v.tabEls[0]))):e=i(t).closest(r.tabSelector),e.length){r.presentation&&r.presentation!==r.tabSelector?(this.v.tabEls.closest(r.presentation).removeClass("active"),e.closest(r.presentation).addClass("active")):(this.v.tabEls.removeClass("active"),e.addClass("active")),this.v.tabEls.each(function(t){return this===e[0]?(a=t,!1):void 0});var o=function(){var t=e.attr("href");return"#"===t||"#!"===t||/^(?:javascript)/i.test(t)?!1:t}();n=o||e.data("njtTarget")||a,"string"==typeof n?s=i(n):"number"==typeof n&&(s=i(this.v.contentEls[n])),this.prevTab=this.activeTab,this.activeTab={tab:e[0],index:a,content:s[0]},s.length&&this.active!==a&&(this._changeSlide(),this.active=a)}}},n._changeSlide=function(){var t=this.o,a=this,e=i(this.prevTab.content),n=i(this.activeTab.content);i(this.activeTab.tab).trigger("njt_show",[this]),i(this.prevTab.tab).length&&i(this.prevTab.tab).trigger("njt_hide",[this]),"string"==typeof this.o.anim?(this._o.anim=!0,t.anim&&t.makeRelative&&"static"===this.v.contentWrap.css("position")&&this.v.contentWrap.css("position","relative"),this.v.contentWrap.addClass("njt-anim-"+this.o.anim),e.removeClass("active njt-active-init"),e.addClass("njt-hide-init"),n[0].clientHeight,e.addClass("njt-hide"),a._getMaxTransitionDuration(e[0])?setTimeout(function(){e.removeClass("njt-hide-init njt-hide").css("display","none"),i(a.prevTab.tab).length&&i(a.prevTab.tab).trigger("njt_hidden",[a])},a._getMaxTransitionDuration(e[0])):e.removeClass("njt-hide-init njt-hide").css("display","none"),n.css({display:"block"}),n.addClass("njt-active-init"),n[0].clientHeight,n.addClass("active"),setTimeout(function(){n.removeClass("njt-active-init"),i(a.activeTab.tab).trigger("njt_shown",[a])},a._getMaxTransitionDuration(n[0])),setTimeout(function(){a.v.contentWrap.removeClass("njt-anim-"+a.o.anim),a._o.anim=!1},Math.max(a._getMaxTransitionDuration(e[0]),a._getMaxTransitionDuration(n[0])))):(e.removeClass("active").css("display","none"),i(this.prevTab.tab).length&&i(this.prevTab.tab).trigger("njt_hidden",[this]),n.addClass("active").css({display:"block"}))},n._gatherData=function(t){function a(t){return"true"===t?!0:"false"===t?!1:t}var e=(this.o,i(t),t.data()),n={};for(var s in e)if(e.hasOwnProperty(s)&&/^njt[A-Z]+/.test(s)){var r=s.match(/^njt(.*)/)[1],o=r.charAt(0).toLowerCase()+r.slice(1);n[o]=a(e[s])}this.o=i.extend(this.o,n)},n._getMaxTransitionDuration=function(t){var a,n,t=i(t);return i(t).length?(a=t.css("transitionDuration"),a&&a!=e||(a="0s"),n=a.replace(/s/gi,"").split(", "),1e3*Math.max.apply(Math,n)):0},njTabs.defaults={tabSelector:"a",presentation:"li",contentSelector:"div",anim:!1,triggerEvent:"click",contentClass:"njTabs-el",makeRelative:!0,bind:".njTabs"}}(window,document),$(document).on("DOMContentLoaded",function(){setTimeout(function(){$(njTabs.defaults.bind).each(function(){njTabs({tabs:$(this)})})},20)}),$.fn.njTabs=function(t){return this.each(function(){if("number"==typeof t)this.njTabs&&this.njTabs.show(t);else{var a=$.extend({},t);a.tabs=$(this),njTabs(t)}})};